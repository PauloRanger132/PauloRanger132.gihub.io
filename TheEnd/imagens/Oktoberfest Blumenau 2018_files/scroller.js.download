var $ = jQuery;

$.fn.scroller = function(callback) {
	$(this).click(function(e) {
		e.preventDefault();

		var href = $(this).attr('href');
		var hash = href.substr(href.indexOf('#'));

		if(hash.length && hash[0] == '#' && $(hash).length != 0) {
			var element = $(hash);

			$('html, body').animate({
				'scrollTop': element.offset().top
			}, 500);
		}

		if(callback != undefined)
			callback($(this));

		location.replace(hash);
	});
}
